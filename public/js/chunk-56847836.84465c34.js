(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56847836"],{"76a4":function(e,t,a){e.exports=a.p+"img/add.1ad8d46d.svg"},b9bd:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"border-bottom"},[r("v-col",{attrs:{cols:"auto"}},[r("div",{staticClass:"d-flex align-center justify-end"},[r("v-btn",{staticClass:"primaryBtn mr-2",staticStyle:{width:"auto"},attrs:{elevation:"0"},on:{click:function(t){(e.addUpdateRoleModal=!0)&&(e.modalType="add")}}},[r("img",{staticClass:"mr-1",attrs:{src:a("76a4"),alt:"export",width:"23"}}),r("span",{staticClass:"fs-16px"},[e._v("Qo'shish")])])],1)])],1),r("v-data-table",{staticClass:"w-100",attrs:{headers:e.headers,items:e.items,"item-key":"id",loading:e.loading,"disable-sort":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.name",fn:function(t){var a=t.item;return[r("div",{staticClass:"d-flex justify-center"},[r("span",{staticClass:"text-black"},[e._v(e._s(a.name))])])]}},{key:"item.actions",fn:function(t){var s=t.item;return[r("div",{staticClass:"d-flex align-center justify-center"},[e.$can("update","warehouse_ip_kirim")?r("div",{staticClass:"cursor-pointer mr-2 mt-1"},[r("img",{staticClass:"cursor-pointer",attrs:{src:a("daf0"),alt:"edit"},on:{click:function(t){return e.editRole(s)}}})]):e._e()])]}},{key:"no-data",fn:function(){return[r("div",[r("no-data",{staticClass:"mt-6"}),r("br"),r("h2",{staticClass:"ml-6 mt-1"},[e._v("Ma'lumotlar topilmadi!")])],1)]},proxy:!0}])}),r("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.addUpdateRoleModal,callback:function(t){e.addUpdateRoleModal=t},expression:"addUpdateRoleModal"}},[r("v-card",{staticClass:"aksessuar_add"},[r("div",{staticClass:"aksessuar_add__title"},[r("span",{staticClass:"text-black"},[e._v("Rol ma`lumotlari")]),r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.closeModal()}}},[r("img",{attrs:{src:a("c715"),alt:"BackButton"}})])],1),r("ValidationObserver",{ref:"formAddUpdateRole",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit,s=t.invalid;return[r("form",{staticClass:"aksessuar_add__content",on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)}}},[r("div",{staticClass:"mt-4"},[r("span",{staticClass:"text-black ml-1"},[e._v("Nomi")]),r("ValidationProvider",{attrs:{rules:{required:!0,error:[e.errorStatus,e.errorMessage,e.errorPlace,"name"]}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mt-2",attrs:{outlined:"",placeholder:"Misol: Manager","error-messages":a},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})]}}],null,!0)})],1),r("v-card-actions",{staticClass:"d-flex justify-space-between"},[r("v-btn",{staticClass:"backBtn",attrs:{text:"",elevation:"0"},on:{click:function(t){return e.closeModal()}}},[e._v("Bekor qilish ")]),r("v-btn",{staticClass:"primaryBtn",attrs:{elevation:"0",loading:e.loading,disabled:s,type:"submit"},on:{click:function(t){e.loader="loading"}}},[e._v(e._s("add"==e.modalType?"Qo'shish":"Tahrirlash")+" ")])],1)],1)]}}])})],1)],1)],1)},s=[],n=a("5530"),o=a("1da1"),i=(a("a434"),a("b0c0"),a("96cf"),a("2f62")),c=a("bbf1"),l=a("f3c0"),d={props:["update"],mixins:[c["b"]],components:{NoData:l["a"]},data:function(){return{loading:!1,addUpdateRoleModal:!1,modalType:"add",role:{name:""},headers:[{text:"Nomi",value:"name",align:"center",class:"table-header"},{text:"Harakatlar",value:"actions",align:"center",class:"table-header"}],items:[],errorStatus:!1,errorMessage:"",errorPlace:""}},watch:{role:{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&this.clearErrors();case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"$store.state.main.users_list":{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,this.refresh();case 3:this.$store.commit("main/SET_UPDATE_USERS_LIST",!1);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0,immediate:!0}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.refresh();case 2:case"end":return t.stop()}}),t)})))()},computed:Object(n["a"])({},Object(i["d"])({roles:function(e){return e.main.roles},searchValue:function(e){return e.main.searchValue},dateFilterValue:function(e){return e.main.dateFilterValue}})),methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])({fetchRoles:"main/fetchRoles",postRoles:"main/postRoles",updateRoles:"main/updateRoles"})),{},{editRole:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.addUpdateRoleModal=!0,t.modalType="edit",t.role=e;case 3:case"end":return a.stop()}}),a)})))()},clearInputs:function(){this.role={name:""},this.clearErrors()},clearErrors:function(){this.errorStatus=!1,this.errorMessage="",this.errorPlace=""},closeModal:function(){this.clearInputs(),this.$refs.formAddUpdateRole.reset(),this.addUpdateRoleModal=!1},refresh:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.fetchRoles();case 3:e.items=e.roles,e.items.splice(0,1),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},onSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.formAddUpdateRole.validate().then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=43;break}if("add"!=e.modalType){t.next=22;break}return t.next=4,e.postRoles({name:e.role.name});case 4:if(r=t.sent,!r.response||422!=r.response.status){t.next=11;break}r.response.data.errors.name&&(e.errorMessage=r.response.data.errors.name[0],e.errorPlace="name"),e.errorStatus=!0,e.$toast.error(e.errorMessage),t.next=20;break;case 11:if(!r.response||409!=r.response.status){t.next=16;break}r.response.data.message&&(e.errorMessage=r.response.data.message),e.$toast.error(e.errorMessage),t.next=20;break;case 16:return t.next=18,e.refresh();case 18:e.$toast.success("Muvaffaqiyatli qo`shildi!"),e.closeModal();case 20:t.next=41;break;case 22:if("edit"!=e.modalType){t.next=41;break}return t.next=25,e.updateRoles({id:e.role.id,name:e.role.name});case 25:if(s=t.sent,!s.response||422!=s.response.status){t.next=32;break}s.response.data.errors.name&&(e.errorMessage=s.response.data.errors.name[0],e.errorPlace="name"),e.errorStatus=!0,e.$toast.error(e.errorMessage),t.next=41;break;case 32:if(!s.response||409!=s.response.status){t.next=37;break}s.response.data.message&&(e.errorMessage=s.response.data.message),e.$toast.error(e.errorMessage),t.next=41;break;case 37:return t.next=39,e.refresh();case 39:e.$toast.success("Muvaffaqiyatli qo`shildi!"),e.closeModal();case 41:t.next=44;break;case 43:e.$toast.error("Xato yuz berdi!");case 44:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}})},u=d,m=a("2877"),p=a("6544"),f=a.n(p),h=a("8336"),b=a("b0af"),v=a("99d9"),g=a("62ad"),x=a("8fea"),k=a("169a"),R=a("8654"),w=Object(m["a"])(u,r,s,!1,null,null,null);t["default"]=w.exports;f()(w,{VBtn:h["a"],VCard:b["a"],VCardActions:v["a"],VCol:g["a"],VDataTable:x["a"],VDialog:k["a"],VTextField:R["a"]})},daf0:function(e,t,a){e.exports=a.p+"img/edit.9866f6a2.svg"}}]);
//# sourceMappingURL=chunk-56847836.84465c34.js.map