(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ce77008"],{"0ccb":function(e,t,a){var r=a("50c4"),s=a("577e"),n=a("1148"),i=a("1d80"),o=Math.ceil,c=function(e){return function(t,a,c){var l,u,d=s(i(t)),m=d.length,h=void 0===c?" ":s(c),p=r(a);return p<=m||""==h?d:(l=p-m,u=n.call(h,o(l/h.length)),u.length>l&&(u=u.slice(0,l)),e?d+u:u+d)}};e.exports={start:c(!1),end:c(!0)}},"169a":function(e,t,a){"use strict";var r=a("5530"),s=a("2909"),n=a("ade3"),i=(a("a9e3"),a("498a"),a("caad"),a("2532"),a("7db0"),a("368e"),a("480e")),o=a("4ad4"),c=a("b848"),l=a("75eb"),u=a("e707"),d=a("e4d3"),m=a("21be"),h=a("f2e7"),p=a("a293"),f=a("58df"),v=a("d9bd"),b=a("80d2"),g=Object(f["a"])(o["a"],c["a"],l["a"],u["a"],d["a"],m["a"],h["a"]);t["a"]=g.extend({name:"v-dialog",directives:{ClickOutside:p["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var e;return e={},Object(n["a"])(e,"v-dialog ".concat(this.contentClass).trim(),!0),Object(n["a"])(e,"v-dialog--active",this.isActive),Object(n["a"])(e,"v-dialog--persistent",this.persistent),Object(n["a"])(e,"v-dialog--fullscreen",this.fullscreen),Object(n["a"])(e,"v-dialog--scrollable",this.scrollable),Object(n["a"])(e,"v-dialog--animated",this.animate),e},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(e){var t;e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(t=this.previousActiveElement)||t.focus())},fullscreen:function(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(v["e"])("full-width",this)},beforeMount:function(){var e=this;this.$nextTick((function(){e.isBooted=e.isActive,e.isActive&&e.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var e=this;this.animate=!1,this.$nextTick((function(){e.animate=!0,window.clearTimeout(e.animateTimeout),e.animateTimeout=window.setTimeout((function(){return e.animate=!1}),150)}))},closeConditional:function(e){var t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):u["a"].options.methods.hideScroll.call(this)},show:function(){var e=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){e.$nextTick((function(){e.previousActiveElement=document.activeElement,e.$refs.content.focus(),e.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(e){if(e.keyCode===b["x"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var t=this.getActivator();this.$nextTick((function(){return t&&t.focus()}))}this.$emit("keydown",e)},onFocusin:function(e){if(e&&this.retainFocus){var t=e.target;if(t&&![document,this.$refs.content].includes(t)&&!this.$refs.content.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(e){return e.contains(t)}))){var a=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=Object(s["a"])(a).find((function(e){return!e.hasAttribute("disabled")}));r&&r.focus()}}},genContent:function(){var e=this;return this.showLazyContent((function(){return[e.$createElement(i["a"],{props:{root:!0,light:e.light,dark:e.dark}},[e.$createElement("div",{class:e.contentClasses,attrs:Object(r["a"])({role:"document",tabindex:e.isActive?0:void 0},e.getScopeIdAttrs()),on:{keydown:e.onKeydown},style:{zIndex:e.activeZIndex},ref:"content"},[e.genTransition()])])]}))},genTransition:function(){var e=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[e]):e},genInnerContent:function(){var e={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(e.style=Object(r["a"])(Object(r["a"])({},e.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(b["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(b["g"])(this.width)})),this.$createElement("div",e,this.getContentSlot())}},render:function(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"368e":function(e,t,a){},"3c93":function(e,t,a){},"3ff7":function(e,t,a){e.exports=a.p+"img/trush-square.2b9cacac.svg"},"4d90":function(e,t,a){"use strict";var r=a("23e7"),s=a("0ccb").start,n=a("9a0c");r({target:"String",proto:!0,forced:n},{padStart:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"5f48":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[r("v-card",{staticClass:"aksessuar_add"},[r("div",{staticClass:"aksessuar_add__title"},[r("span",{staticClass:"text-black"},[e._v(e._s(e.modalTitle))]),r("v-btn",{attrs:{icon:""},on:{click:e.closeDeleteModal}},[r("img",{attrs:{src:a("c715"),alt:"BackButton"}})])],1),r("div",{staticClass:"pb-5 pt-4 mb-3 text-muted border-bottom"},[e._v(" "+e._s(e.modalDesc)+" ")]),r("v-card-actions",{staticClass:"d-flex justify-space-between"},[r("v-btn",{staticClass:"backBtn",attrs:{text:"",elevation:"0"},on:{click:e.closeDeleteModal}},[e._v("Yo‘q ")]),r("v-btn",{staticClass:"primaryBtn",attrs:{elevation:"0",loading:e.loading},on:{click:function(t){return e.removeProduct()}}},[e._v("Ha ")])],1)],1)],1)],1)},s=[],n=a("1da1"),i=a("5530"),o=(a("96cf"),a("2f62")),c=a("bbf1"),l={mixins:[c["b"]],props:["deleteModal","user_id","actionName","modalTitle","modalDesc"],data:function(){return{}},computed:Object(i["a"])(Object(i["a"])({},Object(o["d"])({})),{},{routeNAME:{get:function(){return this.$store.state.main.routeNAME},set:function(e){return this.$store.state.main.routeNAME=e}}}),methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])({})),{},{closeDeleteModal:function(){this.$parent.deleteModal=!1},removeProduct:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loader="loading",t.next=3,e.$store.dispatch(e.actionName,e.user_id);case 3:if(a=t.sent,!a.response||409!=a.response.status){t.next=9;break}a.response.data.message&&(e.errorMessage=a.response.data.message),e.$toast.error(e.errorMessage),t.next=29;break;case 9:t.t0=e.actionName,t.next="main/deleteUser"===t.t0?12:"warehouse/deleteStorage"===t.t0?14:"warehouse/deleteProductIncome"===t.t0?16:"warehouse/deleteOrder"===t.t0?18:"updateDelete/deleteFactoryIncome"===t.t0?20:"updateDelete/deleteOrderSewed"===t.t0?22:"updateDelete/deleteHistoryDeleteSewed"===t.t0?24:26;break;case 12:return e.$store.commit("main/SET_UPDATE_USERS_LIST",!0),t.abrupt("break",26);case 14:return"warehouse-ip-mavjud"==e.routeNAME?e.$store.commit("main/SET_UPDATE_WAREHOUSE_THREAD_EXISTS",!0):"warehouse-mato-mavjud"==e.routeNAME?e.$store.commit("main/SET_UPDATE_WAREHOUSE_MATERIAL_EXISTS",!0):"warehouse-yoqa-mavjud"==e.routeNAME?e.$store.commit("main/SET_UPDATE_WAREHOUSE_COLLAR_EXISTS",!0):"supply-ready-mato-mavjud"==e.routeNAME?e.$store.commit("main/SET_UPDATE_SUPPLY_READY_RAW_MATERIAL_EXISTS",!0):"supply-ready-yoqa-mavjud"==e.routeNAME?e.$store.commit("main/SET_UPDATE_SUPPLY_READY_RAW_COLLAR_EXISTS",!0):"supply-aksessuar-mavjud"==e.routeNAME?e.$store.commit("main/SET_UPDATE_SUPPLY_ACCESSORY_EXISTS",!0):"supply-bichuv-skladi"==e.routeNAME?e.$store.commit("main/SET_UPDATE_SUPPLY_TAILORING_WAREHOUSE",!0):"ready-products-mavjud"==e.routeNAME&&e.$store.commit("main/SET_UPDATE_READY_PRODUCTS_EXISTS",!0),t.abrupt("break",26);case 16:return"warehouse-ip-kirim"==e.routeNAME?e.$store.commit("main/SET_UPDATE_WAREHOUSE_THREAD_INCOME",!0):"supply-aksessuar-kirim"==e.routeNAME&&e.$store.commit("main/SET_UPDATE_SUPPLY_ACCESSORY_INCOME",!0),t.abrupt("break",26);case 18:return"warehouse-mato-chiqim"==e.routeNAME?e.$store.commit("main/SET_UPDATE_WAREHOUSE_MATERIAL_OUTCOME",!0):"warehouse-yoqa-chiqim"==e.routeNAME?e.$store.commit("main/SET_UPDATE_WAREHOUSE_COLLAR_OUTCOME",!0):"outsource-painting-kirim"==e.routeNAME&&e.$store.commit("main/SET_UPDATE_OUTSOURCE_PAINTING_INCOME",!0),t.abrupt("break",26);case 20:return"warehouse-ip-chiqim"==e.routeNAME?e.$store.commit("main/SET_UPDATE_WAREHOUSE_THREAD_OUTCOME",!0):"outsource-mato-kirim"==e.routeNAME?e.$store.commit("main/SET_UPDATE_OUTSOURCE_MATERIAL_INCOME",!0):"outsource-yoqa-kirim"==e.routeNAME&&e.$store.commit("main/SET_UPDATE_OUTSOURCE_COLLAR_INCOME",!0),t.abrupt("break",26);case 22:return"outsource-mato-buyurtmalarim"==e.routeNAME?e.$store.commit("main/SET_UPDATE_OUTSOURCE_MATERIAL_ORDERS",!0):"outsource-yoqa-buyurtmalarim"==e.routeNAME&&e.$store.commit("main/SET_UPDATE_OUTSOURCE_COLLAR_ORDERS",!0),t.abrupt("break",26);case 24:return"supply-bichuv-tarixi"==e.routeNAME&&e.$store.commit("main/SET_UPDATE_SUPPLY_TAILORING_HISTORY",!0),t.abrupt("break",26);case 26:e.closeDeleteModal(),r="Muvaffaqiyatli o'chirildi!",e.$toast.success(r);case 29:case"end":return t.stop()}}),t)})))()}})},u=l,d=a("2877"),m=a("6544"),h=a.n(m),p=a("8336"),f=a("b0af"),v=a("99d9"),b=a("169a"),g=Object(d["a"])(u,r,s,!1,null,"30345aa5",null);t["a"]=g.exports;h()(g,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VDialog:b["a"]})},"615b":function(e,t,a){},"76a4":function(e,t,a){e.exports=a.p+"img/add.1ad8d46d.svg"},"99d9":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("b0af"),s=a("80d2"),n=Object(s["i"])("v-card__actions"),i=Object(s["i"])("v-card__subtitle"),o=Object(s["i"])("v-card__text"),c=Object(s["i"])("v-card__title");r["a"]},"9a0c":function(e,t,a){var r=a("342f");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},afdd:function(e,t,a){"use strict";var r=a("8336");t["a"]=r["a"]},b0af:function(e,t,a){"use strict";var r=a("5530"),s=(a("a9e3"),a("0481"),a("615b"),a("10d2")),n=a("297c"),i=a("1c87"),o=a("58df");t["a"]=Object(o["a"])(n["a"],i["a"],s["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({"v-card":!0},i["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},s["a"].options.computed.classes.call(this))},styles:function(){var e=Object(r["a"])({},s["a"].options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=n["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),a=t.tag,r=t.data;return r.style=this.styles,this.isClickable&&(r.attrs=r.attrs||{},r.attrs.tabindex=0),e(a,this.setBackgroundColor(this.color,r),[this.genProgress(),this.$slots.default])}})},b1d0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"border-bottom"},[r("v-col",{attrs:{cols:"auto"}},[r("div",{staticClass:"d-flex align-center justify-end"},[r("v-btn",{staticClass:"primaryBtn mr-2",staticStyle:{width:"auto"},attrs:{elevation:"0"},on:{click:function(t){(e.addUpdateUserModal=!0)&&(e.modalType="add")}}},[r("img",{staticClass:"mr-1",attrs:{src:a("76a4"),alt:"export",width:"23"}}),r("span",{staticClass:"fs-16px"},[e._v("Qo'shish")])])],1)])],1),r("v-data-table",{staticClass:"w-100",attrs:{headers:e.headers,items:e.items,"item-key":"id",loading:e.loading,"disable-sort":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.name",fn:function(t){var a=t.item;return[r("div",{staticClass:"d-flex justify-center"},[r("span",{staticClass:"text-black"},[e._v(e._s(a.name))])])]}},{key:"item.email",fn:function(t){var a=t.item;return[r("div",{staticClass:"d-flex justify-center"},[r("span",{staticClass:"text-black"},[e._v(e._s(a.email))])])]}},{key:"item.position",fn:function(t){var a=t.item;return[r("div",{staticClass:"d-flex justify-center"},[r("span",{staticClass:"text-black"},[e._v(e._s(a.position))])])]}},{key:"item.date",fn:function(t){var a=t.item;return[r("div",{staticClass:"d-flex justify-center"},[r("span",{staticClass:"text-black"},[e._v(e._s(a.date))])])]}},{key:"item.actions",fn:function(t){var s=t.item;return[r("div",{staticClass:"d-flex align-center justify-center"},[e.$can("update","warehouse_ip_kirim")?r("div",{staticClass:"cursor-pointer mr-2 mt-1"},[r("img",{staticClass:"cursor-pointer",attrs:{src:a("daf0"),alt:"edit"},on:{click:function(t){return e.editUser(s)}}})]):e._e(),e.$can("delete","warehouse_ip_kirim")?r("div",{staticClass:"cursor-pointer mt-1",on:{click:function(t){return e.deleteUser(s)}}},[r("img",{attrs:{src:a("3ff7"),alt:"edit-2"}})]):e._e()])]}},{key:"no-data",fn:function(){return[r("div",[r("no-data",{staticClass:"mt-6"}),r("br"),r("h2",{staticClass:"ml-6 mt-1"},[e._v("Ma'lumotlar topilmadi!")])],1)]},proxy:!0}])}),r("v-pagination",{staticClass:"my-2",attrs:{length:e.pageCount,"total-visible":"7"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}),r("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.addUpdateUserModal,callback:function(t){e.addUpdateUserModal=t},expression:"addUpdateUserModal"}},[r("v-card",{staticClass:"aksessuar_add"},[r("div",{staticClass:"aksessuar_add__title"},[r("span",{staticClass:"text-black"},[e._v("Foydalanuvchi ma`lumotlari")]),r("v-btn",{attrs:{icon:""},on:{click:e.closeModal}},[r("img",{attrs:{src:a("c715"),alt:"BackButton"}})])],1),r("ValidationObserver",{ref:"formAddUpdateUser",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit,s=t.invalid;return[r("form",{staticClass:"aksessuar_add__content",on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)}}},[r("div",{staticClass:"mt-4"},[r("span",{staticClass:"text-black ml-1"},[e._v("Ism Sharif")]),r("ValidationProvider",{attrs:{rules:{required:!0,error:[e.errorStatus,e.errorMessage,e.errorPlace,"name"]}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mt-2",attrs:{outlined:"",placeholder:"Misol: Vilvit","error-messages":a},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})]}}],null,!0)})],1),r("div",[r("span",{staticClass:"text-black ml-1"},[e._v("Lavozim")]),r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-select",{staticClass:"mt-2",attrs:{items:e.rolesList,"item-value":"id",label:"Tanlang",outlined:"","error-messages":a,"item-text":"name"},model:{value:e.user.position,callback:function(t){e.$set(e.user,"position",t)},expression:"user.position"}})]}}],null,!0)})],1),r("div",[r("span",{staticClass:"text-black ml-1"},[e._v("Login")]),r("ValidationProvider",{attrs:{rules:{required:!0,error:[e.errorStatus,e.errorMessage,e.errorPlace,"email"]}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mt-2",attrs:{outlined:"",placeholder:"Misol: 666777","error-messages":a},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})]}}],null,!0)})],1),r("div",[r("span",{staticClass:"text-black ml-1"},[e._v("Parol")]),r("ValidationProvider",{attrs:{rules:{required:!0,error:[e.errorStatus,e.errorMessage,e.errorPlace,"password"]}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mt-2",attrs:{outlined:"","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",counter:"",placeholder:"Misol: bu yashil ip","error-messages":a},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})]}}],null,!0)})],1),"add"==e.modalType?r("div",[r("span",{staticClass:"text-black ml-1"},[e._v("Parolni tasdiqlash")]),r("ValidationProvider",{attrs:{rules:{required:!0,error:[e.errorStatus,e.errorMessage,e.errorPlace,"repeatPassword"]}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mt-2",attrs:{outlined:"","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",counter:"",placeholder:"Misol: bu yashil ip","error-messages":a},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.repeatPassword,callback:function(t){e.$set(e.user,"repeatPassword",t)},expression:"user.repeatPassword"}})]}}],null,!0)})],1):e._e(),r("v-card-actions",{staticClass:"d-flex justify-space-between"},[r("v-btn",{staticClass:"backBtn",attrs:{text:"",elevation:"0"},on:{click:e.closeModal}},[e._v("Bekor qilish ")]),r("v-btn",{staticClass:"primaryBtn",attrs:{elevation:"0",loading:e.loading,disabled:s,type:"submit"},on:{click:function(t){e.loader="loading"}}},[e._v(e._s("add"==e.modalType?"Qo'shish":"Tahrirlash")+" ")])],1)],1)]}}])})],1)],1),r("DeleteModal",{attrs:{deleteModal:e.deleteModal,user_id:e.one_user.id,actionName:"main/deleteUser",modalTitle:"Foydalanuvchi o'chirilishi",modalDesc:"Bu foydalanuvchini o‘chirmoqchimisiz?"}})],1)},s=[],n=a("5530"),i=a("1da1"),o=(a("b0c0"),a("159b"),a("a434"),a("96cf"),a("2f62")),c=a("bbf1"),l=a("f3c0"),u=a("5f48"),d={props:["update"],mixins:[c["b"]],components:{DeleteModal:u["a"],NoData:l["a"]},data:function(){return{page:1,pageCount:0,loading:!1,deleteModal:!1,addUpdateUserModal:!1,modalType:"add",show1:!1,user:{name:"",position:"",email:"",password:"",repeatPassword:""},positions:[],rolesList:[],headers:[{text:"Ism Sharif",value:"name",align:"center",class:"table-header"},{text:"Login",value:"email",align:"center",class:"table-header"},{text:"Lavozim",value:"position",align:"center",class:"table-header"},{text:"Sana",value:"date",align:"center",class:"table-header"},{text:"Harakatlar",value:"actions",align:"center",class:"table-header"}],items:[],errorStatus:!1,errorMessage:"",errorPlace:""}},watch:{page:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,this.refresh();case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),"user.repeatPassword":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&this.user.password;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},user:{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&this.clearErrors();case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"$store.state.main.users_list":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,this.refresh();case 3:this.$store.commit("main/SET_UPDATE_USERS_LIST",!1);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0,immediate:!0}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.refresh();case 2:case"end":return t.stop()}}),t)})))()},computed:Object(n["a"])({},Object(o["d"])({users:function(e){return e.main.users},roles:function(e){return e.main.roles},searchValue:function(e){return e.main.searchValue},dateFilterValue:function(e){return e.main.dateFilterValue},one_user:function(e){return e.main.one_user}})),methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({fetchUsers:"main/fetchUsers",fetchRoles:"main/fetchRoles",postUsers:"main/postUsers",updateUsers:"main/updateUsers",deleteUser:"main/deleteUser",fetchOneUser:"main/fetchOneUser"})),{},{editUser:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.addUpdateUserModal=!0,t.modalType="edit",a.next=4,t.fetchOneUser(e.id);case 4:t.user.name=t.one_user.name,t.user.position=t.one_user.role_id,t.user.email=t.one_user.email;case 7:case"end":return a.stop()}}),a)})))()},deleteUser:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.deleteModal=!0,a.next=3,t.fetchOneUser(e.id);case 3:case"end":return a.stop()}}),a)})))()},clearInputs:function(){this.user={name:"",position:"",email:"",password:"",repeatPassword:""},this.clearErrors()},clearErrors:function(){this.errorStatus=!1,this.errorMessage="",this.errorPlace=""},closeModal:function(){this.clearInputs(),this.$refs.formAddUpdateUser.reset(),this.addUpdateUserModal=!1},refresh:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.fetchUsers({page:e.page});case 3:return e.items=e.users.data,e.page=e.users.current_page,e.pageCount=Math.ceil(e.users.total/10),e.items.forEach((function(t){t.position=t.role.name,t.created_at&&(t.date=e.$dayjs(t.created_at).format("DD-MM-YYYY"))})),t.next=9,e.fetchRoles();case 9:e.rolesList=e.roles,e.rolesList.splice(0,1),e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()},onSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.formAddUpdateUser.validate().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=50;break}if("add"!=e.modalType){t.next=29;break}if(e.user.password==e.user.repeatPassword){t.next=9;break}e.errorMessage="Parollar bir biriga mos kelmayapti!",e.errorPlace="repeatPassword",e.errorStatus=!0,e.$toast.error(e.errorMessage),t.next=27;break;case 9:return t.next=11,e.postUsers({name:e.user.name,email:e.user.email,password:e.user.password,role_id:e.user.position});case 11:if(r=t.sent,!r.response||422!=r.response.status){t.next=18;break}r.response.data.errors.name?(e.errorMessage=r.response.data.errors.name[0],e.errorPlace="name"):r.response.data.errors.email?(e.errorMessage=r.response.data.errors.email[0],e.errorPlace="email"):r.response.data.errors.password&&(e.errorMessage=r.response.data.errors.password[0],e.errorPlace="password"),e.errorStatus=!0,e.$toast.error(e.errorMessage),t.next=27;break;case 18:if(!r.response||409!=r.response.status){t.next=23;break}r.response.data.message&&(e.errorMessage=r.response.data.message),e.$toast.error(e.errorMessage),t.next=27;break;case 23:return t.next=25,e.refresh();case 25:e.$toast.success("Muvaffaqiyatli qo`shildi!"),e.closeModal();case 27:t.next=48;break;case 29:if("edit"!=e.modalType){t.next=48;break}return t.next=32,e.updateUsers({id:e.one_user.id,name:e.user.name,email:e.user.email,password:e.user.password,role_id:e.user.position});case 32:if(s=t.sent,!s.response||422!=s.response.status){t.next=39;break}s.response.data.errors.name?(e.errorMessage=s.response.data.errors.name[0],e.errorPlace="name"):s.response.data.errors.password&&(e.errorMessage=s.response.data.errors.password[0],e.errorPlace="password"),e.errorStatus=!0,e.$toast.error(e.errorMessage),t.next=48;break;case 39:if(!s.response||409!=s.response.status){t.next=44;break}s.response.data.message&&(e.errorMessage=s.response.data.message),e.$toast.error(e.errorMessage),t.next=48;break;case 44:return t.next=46,e.refresh();case 46:e.$toast.success("Muvaffaqiyatli qo`shildi!"),e.closeModal();case 48:t.next=51;break;case 50:e.$toast.error("Xato yuz berdi!");case 51:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}})},m=d,h=a("2877"),p=a("6544"),f=a.n(p),v=a("8336"),b=a("b0af"),g=a("99d9"),y=a("62ad"),_=a("8fea"),w=a("169a"),E=a("891e"),k=a("b974"),x=a("8654"),S=Object(h["a"])(m,r,s,!1,null,null,null);t["default"]=S.exports;f()(S,{VBtn:v["a"],VCard:b["a"],VCardActions:g["a"],VCol:y["a"],VDataTable:_["a"],VDialog:w["a"],VPagination:E["a"],VSelect:k["a"],VTextField:x["a"]})},daf0:function(e,t,a){e.exports=a.p+"img/edit.9866f6a2.svg"},e707:function(e,t,a){"use strict";a("a9e3"),a("caad"),a("2532");var r=a("5530"),s=(a("3c93"),a("a9ad")),n=a("7560"),i=a("f2e7"),o=a("58df"),c=Object(o["a"])(s["a"],n["a"],i["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes:function(){return Object(r["a"])({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(e){var t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},t)}}),l=c,u=a("80d2"),d=a("2b0e");t["a"]=d["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{animationFrame:0,overlay:null}},watch:{hideOverlay:function(e){this.isActive&&(e?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var e=new l({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});e.$mount();var t=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");t&&t.insertBefore(e.$el,t.firstChild),this.overlay=e},genOverlay:function(){var e=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame((function(){e.overlay&&(void 0!==e.activeZIndex?e.overlay.zIndex=String(e.activeZIndex-1):e.$el&&(e.overlay.zIndex=Object(u["u"])(e.$el)),e.overlay.value=!0)})),!0},removeOverlay:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(u["a"])(this.overlay.$el,"transitionend",(function(){e.overlay&&e.overlay.$el&&e.overlay.$el.parentNode&&!e.overlay.value&&!e.isActive&&(e.overlay.$el.parentNode.removeChild(e.overlay.$el),e.overlay.$destroy(),e.overlay=null)})),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),t&&this.showScroll()},scrollListener:function(e){if("keydown"===e.type){if(["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||e.target.isContentEditable)return;var t=[u["x"].up,u["x"].pageup],a=[u["x"].down,u["x"].pagedown];if(t.includes(e.keyCode))e.deltaY=-1;else{if(!a.includes(e.keyCode))return;e.deltaY=1}}(e.target===this.overlay||"keydown"!==e.type&&e.target===document.body||this.checkPath(e))&&e.preventDefault()},hasScrollbar:function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e);return["auto","scroll"].includes(t.overflowY)&&e.scrollHeight>e.clientHeight},shouldScroll:function(e,t){if(e.hasAttribute("data-app"))return!1;var a=0===e.scrollTop,r=e.scrollTop+e.clientHeight===e.scrollHeight,s=t<0,n=t>0;return!(a||!s)||(!(r||!n)||!(!a&&!r)&&this.shouldScroll(e.parentNode,t))},isInside:function(e,t){return e===t||null!==e&&e!==document.body&&this.isInside(e.parentNode,t)},checkPath:function(e){var t=e.path||this.composedPath(e),a=e.deltaY;if("keydown"===e.type&&t[0]===document.body){var r=this.$refs.dialog,s=window.getSelection().anchorNode;return!(r&&this.hasScrollbar(r)&&this.isInside(s,r))||!this.shouldScroll(r,a)}for(var n=0;n<t.length;n++){var i=t[n];if(i===document)return!0;if(i===document.documentElement)return!0;if(i===this.$refs.content)return!0;if(this.hasScrollbar(i))return!this.shouldScroll(i,a)}return!0},composedPath:function(e){if(e.composedPath)return e.composedPath();var t=[],a=e.target;while(a){if(t.push(a),"HTML"===a.tagName)return t.push(document),t.push(window),t;a=a.parentElement}return t},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(u["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}})}}]);
//# sourceMappingURL=chunk-6ce77008.da407124.js.map