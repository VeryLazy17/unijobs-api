{"version":3,"sources":["webpack:///./src/views/Login.vue?1275","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","scopedSlots","_u","key","fn","handleSubmit","on","$event","preventDefault","onSubmit","_v","attrs","required","error","errorStatus","errorMessage","errorPlace","errors","model","value","callback","$$v","email","expression","password","loading","loader","staticRenderFns","component","VBtn","VTextField"],"mappings":"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","file":"js/chunk-2d2086b7.cfdf8c03.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\"},[_c('div',{staticClass:\"left_page\"}),_c('div',{staticClass:\"right_page\"},[_c('ValidationObserver',{ref:\"formLogin\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('form',{staticClass:\"login_form\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)}}},[_c('span',{staticClass:\"login_form__title\"},[_vm._v(\" Tizimga kirish \")]),_c('ValidationProvider',{staticClass:\"input_checker\",attrs:{\"rules\":{required: true, \r\n                    error: [_vm.errorStatus, _vm.errorMessage, _vm.errorPlace, 'email']},\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                    var errors = ref.errors;\nreturn [_c('v-text-field',{staticClass:\"mt-5 login_form__input\",attrs:{\"outlined\":\"\",\"error-messages\":errors,\"placeholder\":\"Login kiriting\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})]}}],null,true)}),_c('ValidationProvider',{staticClass:\"input_checker\",attrs:{\"rules\":{required: true, \r\n                    error: [_vm.errorStatus, _vm.errorMessage, _vm.errorPlace, 'password']},\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                    var errors = ref.errors;\nreturn [_c('v-text-field',{staticClass:\"login_form__input\",attrs:{\"outlined\":\"\",\"error-messages\":errors,\"placeholder\":\"Parol kiriting\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})]}}],null,true)}),_c('v-btn',{staticClass:\"primaryBtn login_form__btn\",attrs:{\"elevation\":\"0\",\"loading\":_vm.loading,\"type\":\"submit\"},on:{\"click\":function($event){_vm.loader = 'loading'}}},[_vm._v(\"Kirish \")])],1)]}}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"login_container\">\r\n    <div class=\"left_page\"></div>\r\n    <div class=\"right_page\">\r\n        <ValidationObserver ref=\"formLogin\" v-slot=\"{ handleSubmit }\">\r\n            <form @submit.prevent=\"handleSubmit(onSubmit)\" class=\"login_form\">\r\n\r\n\r\n                <span class=\"login_form__title\">\r\n                    Tizimga kirish\r\n                </span>\r\n\r\n\r\n\r\n                <ValidationProvider :rules=\"{required: true, \r\n                    error: [errorStatus, errorMessage, errorPlace, 'email']}\" \r\n                    v-slot=\"{ errors }\" tag=\"div\" class=\"input_checker\">\r\n\r\n                    <v-text-field outlined class=\"mt-5 login_form__input\" \r\n                        :error-messages=\"errors\" placeholder=\"Login kiriting\"\r\n                        v-model=\"email\">\r\n                    </v-text-field>\r\n                </ValidationProvider>\r\n\r\n\r\n\r\n                <ValidationProvider :rules=\"{required: true, \r\n                    error: [errorStatus, errorMessage, errorPlace, 'password']}\" \r\n                    v-slot=\"{ errors }\" tag=\"div\" class=\"input_checker\">\r\n\r\n                    <v-text-field outlined class=\"login_form__input\"\r\n                        :error-messages=\"errors\" placeholder=\"Parol kiriting\"\r\n                        v-model=\"password\">\r\n                    </v-text-field>\r\n                </ValidationProvider>\r\n\r\n\r\n\r\n                <v-btn\r\n                    class=\"primaryBtn login_form__btn\"\r\n                    elevation=\"0\"\r\n                    :loading=\"loading\"\r\n                    @click=\"loader = 'loading'\"\r\n                    type=\"submit\"\r\n                >Kirish\r\n                </v-btn>\r\n\r\n\r\n\r\n\r\n                <!-- <div class=\"login_form__error\">\r\n                    Xatolik yuz berdimi? Login va parolizni unutdingizmi? \r\n                    Iltimos biz bilan bog'laning! +998998442431\r\n                </div> -->\r\n            </form>\r\n        </ValidationObserver>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport { loaderMixin } from '@/mixins/dateLoaderMixins.js'\r\nimport api from 'axios'\r\n\r\nexport default {\r\n    mixins: [loaderMixin],\r\n    data(){\r\n        return{\r\n            // ============= SECONDARY_DATA =============\r\n            email: '',\r\n            password: '',\r\n            // ============= SECONDARY_DATA =============\r\n\r\n\r\n\r\n            // ============= PRIMARY_DATA =============\r\n            errorStatus: false,\r\n            errorMessage: '',\r\n            errorPlace: ''\r\n            // ============= PRIMARY_DATA =============\r\n        }\r\n    },\r\n    watch: {\r\n        // ============= OTHER_WATCHERS START =============\r\n        email(){\r\n            this.clearErrors()\r\n        },\r\n        password(){\r\n            this.clearErrors()\r\n        }\r\n        // ============= OTHER_WATCHERS END =============\r\n    },\r\n    async mounted(){\r\n        await this.refresh()\r\n    },\r\n    computed:{\r\n        ...mapState(\r\n            {\r\n                // mavjud_ips: state => state.warehouse.mavjud_ips || [],\r\n            }\r\n        ),\r\n    },\r\n    methods:{\r\n        ...mapActions(\r\n            {\r\n                postSignIn: 'main/postSignIn',\r\n                fetchBeforeLogin: 'main/fetchBeforeLogin'\r\n            }\r\n        ),\r\n\r\n        \r\n\r\n\r\n\r\n        // ============= REFRESH START =============\r\n        async refresh(search){\r\n            // await this.fetchMavjudIps({page: this.page, search: search})\r\n        },\r\n        // ============= REFRESH START =============\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // ============= CLEARS_AND_CLOSES START =============\r\n        clearInputs(){\r\n            this.email = ''\r\n            this.password = ''\r\n            this.clearErrors()\r\n            this.$refs.formLogin.reset();\r\n        },\r\n        clearErrors(){\r\n            this.errorStatus = false;\r\n            this.errorMessage = '';\r\n            this.errorPlace = '';\r\n        },\r\n        // ============= CLEARS_AND_CLOSES END =============\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // ============= ON_SUBMIT START =============\r\n        async onSubmit(){\r\n            this.$refs.formLogin.validate().then(async(success) => {\r\n                if(success){\r\n                    // ============= IF SUCCESS =============\r\n\r\n\r\n                    // ============= LOG_IN START =============\r\n                    let beforeLogin = await api.get('https://mountain-it.tech/sanctum/csrf-cookie')\r\n\r\n                    console.log(beforeLogin)\r\n\r\n                    let resp = await this.postSignIn(\r\n                        { \r\n                            email: this.email,\r\n                            password: this.password,\r\n                        })\r\n\r\n                    if(resp.response && resp.response.status == 422){\r\n                        if(resp.response.data.errors && resp.response.data.errors.email){\r\n                            this.errorMessage = resp.response.data.errors.email[0];\r\n                            this.errorPlace = 'email'\r\n                        }else if(resp.response.data.errors && resp.response.data.errors.password){\r\n                            this.errorMessage = resp.response.data.errors.password[0];\r\n                            this.errorPlace = 'password'\r\n                        }else if(resp.response.data.message){\r\n                            this.errorMessage = resp.response.data.message;\r\n                        }\r\n                        this.errorStatus = true\r\n                        this.$toast.error(this.errorMessage);\r\n                    }else{\r\n                        this.$router.push({name: 'home'});\r\n                        this.clearInputs();\r\n                        // let toastTitle = 'Muvaffaqiyatli jo`natildi!'\r\n                        // this.$toast.success(toastTitle);\r\n                        // this.$store.commit('main/SET_UPDATE_AFTER_IP_ADDED', true)\r\n                        // await this.refresh()\r\n                    }\r\n\r\n\r\n\r\n                    // this.$router.push({name: 'home'});\r\n                    // ============= LOG_IN END =============\r\n\r\n\r\n\r\n                }else{\r\n                    // ============= IF NO SUCCESS =============\r\n                    this.$toast.error('Xato yuz berdi!');\r\n                }\r\n            })\r\n\r\n        }\r\n        // ============= ON_SUBMIT END =============\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=e529ec12&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VTextField})\n"],"sourceRoot":""}